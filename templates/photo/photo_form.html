{% extends 'dashboard/_base.html' %}
{% load crispy_forms_tags%}
{% block title %}
  {% if request.resolver_match.url_name == 'photo_create' %}
    Add Photo
  {% else %}
    Edit Photo
  {% endif %}
{% endblock title %}
{% block navbarbrand %}
  {% if request.resolver_match.url_name == 'photo_create' %}
    Add Photo
  {% else %}
    Edit Photo
  {% endif %}
{% endblock %}

{% block content %}
<div class="row">

<div class="col-lg-12">
  <div class="card">
    <div class="card-header">
      <h5 class="card-title">Photo Details</h5>
    </div>
    <div class="card-body">
      <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
          <div class="form-row">
          <div class="col">
              {{ form.title|as_crispy_field }}
          </div>
          <div class="col">
              {{ form.category|as_crispy_field }}
          </div>
        </div>
        <div class="form-row">
          <div class="col">
              {{ form.description|as_crispy_field }}
          </div>
          <div class="col">
            {{ form.tags|as_crispy_field }}
          </div>
        </div>
        {% if request.resolver_match.url_name == 'photo_create' %}

        <div class="form-row">
          <div class="col">
            <div class="fileinput fileinput-new text-center" data-provides="fileinput">
              <!-- <div class="fileinput-new thumbnail img-raised">
                  <img src="https://epicattorneymarketing.com/wp-content/uploads/2016/07/Headshot-Placeholder-1.png" alt="..." rel="nofollow">
              </div> -->
              <div class="fileinput-preview fileinput-exists thumbnail img-raised"></div>
              <div>
                  <span class="btn btn-raised btn-round btn-default btn-file">
                      <span class="fileinput-new">Select image</span>
                      <span class="fileinput-exists">Change</span>
                      <input type="file" name="{{ form.image.name }}" id="{{ form.image.id_for_label }}" />
                  </span>
                  <a href="javascript:;" class="btn btn-danger btn-round fileinput-exists" data-dismiss="fileinput">
                  <i class="fa fa-times"></i> Remove</a>
              </div>
           </div>

          </div>
      </div>
      {% endif %}
      <div class="form-row">
        <div class="col">
            {{ form.price|as_crispy_field }}
        </div>
      </div>
      <div class="form-group">
      <button class="btn btn-outline-info mt-2 mb-2" type="submit">Submit</button>
      <a
      class="btn btn-outline-secondary"
      href="{% url 'photo_list' %}"
      >Cancel</a
    >
      </div>
    </form>
    </div>
  </div>

</div>
{% endblock %}